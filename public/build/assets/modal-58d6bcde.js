import{s as _}from"./sender-11aaf2c3.js";const u={calculator_ipoteka:()=>{ym(67008322,"reachGoal","calculator_ipoteka")},konstruktor:()=>{ym(67008322,"reachGoal","konstruktor")},podbor_doma:()=>{ym(67008322,"reachGoal","podbor_doma")},podbor_uchastka:()=>{ym(67008322,"reachGoal","podbor_uchastka")},ipoteka_glavn:()=>{ym(67008322,"reachGoal","ipoteka_glavn")},client_tur:()=>{ym(67008322,"reachGoal","client_tur")},napisat:()=>{ym(67008322,"reachGoal","napisat")},consult_ipoteka:()=>{ym(67008322,"reachGoal","consult_ipoteka")},podbor_ZU_ipoteka:()=>{ym(67008322,"reachGoal","podbor_ZU_ipoteka")},podbor_uchastka_projects:()=>{ym(67008322,"reachGoal","podbor_uchastka_projects")},raschet_proekta:()=>{ym(67008322,"reachGoal","raschet_proekta")},call_zakaz:()=>{ym(67008322,"reachGoal","call_zakaz")},podbor_ZU_about:()=>{ym(67008322,"reachGoal","podbor_ZU_about")},tehnolog:()=>{ym(67008322,"reachGoal","tehnolog")},ipoteka_about:()=>{ym(67008322,"reachGoal","ipoteka_about")},strahovanie_about:()=>{ym(67008322,"reachGoal","strahovanie_about")},hochu_dom:()=>{ym(67008322,"reachGoal","hochu_dom")}};document.addEventListener("DOMContentLoaded",p=>{const d={errorHander:"",historyLog:[],ym:null},e={isActive:!1,additionalForm:{}},n=document.querySelectorAll(".modal__form"),c=document.querySelectorAll(".modal__close");document.addEventListener("click",a=>{if(a.target.dataset.modal_id){const t=a.target.dataset.modal_id,r=document.getElementById(t);if(a.target.dataset.additional_form){const o=a.target.dataset.additional_form;e.additionalForm=new FormData(document.getElementById(`${o}`)),e.additionalForm.has("mortgage")&&e.additionalForm.set("mortgage",document.getElementById(`${o}`).querySelector(".dropdown-select-selected").getAttribute("name"))}else e.additionalForm={};if(a.target.dataset.ym){const o=a.target.dataset.ym;d.ym=o}else d.ym=null;e.isActive=!0,r.classList.add("modal__window--active"),document.body.classList.add("modal__open"),r.addEventListener("click",o=>{o.target.classList.contains("modal__window")&&l(r)})}},!1);function l(a){const t=a.querySelector(".modal__wrapper");t.classList.add("modal__wrapper--out"),a.classList.add("modal__window--out"),setTimeout(()=>{t.classList.remove("modal__wrapper--out"),a.classList.remove("modal__window--active")},500),setTimeout(()=>{a.classList.remove("modal__window--out"),document.body.classList.remove("modal__open"),e.isActive=!1},501)}c.forEach(a=>{a.addEventListener("click",t=>{l(t.target.parentNode.parentNode.parentNode)})}),n.forEach(a=>{a.addEventListener("submit",t=>{t.preventDefault();const r=new FormData(a);if(e.additionalForm instanceof FormData)for(const o of e.additionalForm)r.append(o[0],o[1]);_(r).then(o=>{if(ym(67008322,"reachGoal","leads"),d.ym!==null){const m=u[`${d.ym}`];m()}const s=t.target.parentNode.parentNode,i=s.nextElementSibling;s.style.display="none",i.style.display="flex"})})})});
